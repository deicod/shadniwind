{
  "name": "breadcrumb",
  "type": "registry:ui",
  "title": "Breadcrumb",
  "description": "Presentational breadcrumb navigation component. Uses Pressable with role=link and aria-current. Consumer must handle navigation via onItemPress.",
  "registryDependencies": [
    "tokens"
  ],
  "files": [
    {
      "path": "components/ui/breadcrumb.tsx",
      "content": "import * as React from \"react\"\nimport { Platform, Pressable, Text, View, type ViewProps } from \"react-native\"\nimport { StyleSheet } from \"react-native-unistyles\"\n\nexport type BreadcrumbItem = {\n  /**\n   * Display text for this breadcrumb item\n   */\n  label: string\n  /**\n   * Optional href for web. On native, use onPress instead.\n   */\n  href?: string\n  /**\n   * Whether this is the current/active page\n   */\n  current?: boolean\n}\n\nexport type BreadcrumbProps = ViewProps & {\n  /**\n   * Array of breadcrumb items\n   */\n  items: BreadcrumbItem[]\n  /**\n   * Callback when a breadcrumb item is pressed\n   * Consumer should handle navigation (e.g., router.push)\n   */\n  onItemPress?: (item: BreadcrumbItem, index: number) => void\n  /**\n   * Custom separator element\n   * @default \"/\"\n   */\n  separator?: React.ReactNode\n}\n\n/**\n * Breadcrumb navigation component.\n *\n * **Important:** This is a presentational component. The `href` property is\n * metadata only - you MUST provide `onItemPress` to handle navigation.\n *\n * **Platform differences:**\n * - Web: Uses Pressable with role=\"link\" and aria-current for accessibility\n * - Native: Uses Pressable with navigation left to consumer\n *\n * **Note:** True anchor links (with right-click/open-in-new-tab) are not\n * supported due to React Native limitations. Use onItemPress for all navigation.\n *\n * @example\n * ```tsx\n * <Breadcrumb\n *   items={[\n *     { label: 'Home', href: '/' },\n *     { label: 'Products', href: '/products' },\n *     { label: 'Item', current: true }\n *   ]}\n *   onItemPress={(item) => {\n *     if (item.href) router.push(item.href)\n *   }}\n * />\n * ```\n */\nexport const Breadcrumb = React.forwardRef<\n  React.ComponentRef<typeof View>,\n  BreadcrumbProps\n>(({ items, onItemPress, separator = \"/\", style, ...props }, ref) => {\n  // Check if any item is explicitly marked as current\n  const hasExplicitCurrent = items.some((item) => item.current === true)\n\n  return (\n    <View\n      ref={ref}\n      role={Platform.OS === \"web\" ? \"navigation\" : undefined}\n      aria-label={Platform.OS === \"web\" ? \"Breadcrumb\" : undefined}\n      style={[styles.container, style]}\n      {...props}\n    >\n      {items.map((item, index) => {\n        const isLast = index === items.length - 1\n        // Only use isLast fallback if no item is explicitly marked current\n        const isCurrent = hasExplicitCurrent ? item.current === true : isLast\n        // Use item properties for stable key\n        const key = item.href || `${item.label}-${index}`\n\n        return (\n          <React.Fragment key={key}>\n            {index > 0 && (\n              <View style={styles.separator}>\n                {typeof separator === \"string\" ? (\n                  <Text style={styles.separatorText}>{separator}</Text>\n                ) : (\n                  separator\n                )}\n              </View>\n            )}\n            <BreadcrumbItem\n              item={item}\n              index={index}\n              isCurrent={isCurrent}\n              onPress={onItemPress}\n            />\n          </React.Fragment>\n        )\n      })}\n    </View>\n  )\n})\n\nBreadcrumb.displayName = \"Breadcrumb\"\n\ntype BreadcrumbItemProps = {\n  item: BreadcrumbItem\n  index: number\n  isCurrent: boolean\n  onPress?: (item: BreadcrumbItem, index: number) => void\n}\n\nfunction BreadcrumbItem({\n  item,\n  index,\n  isCurrent,\n  onPress,\n}: BreadcrumbItemProps) {\n  const handlePress = React.useCallback(() => {\n    if (!isCurrent && onPress) {\n      onPress(item, index)\n    }\n  }, [isCurrent, onPress, item, index])\n\n  if (isCurrent) {\n    return (\n      <View\n        role={Platform.OS === \"web\" ? \"listitem\" : undefined}\n        aria-current={Platform.OS === \"web\" ? \"page\" : undefined}\n        style={styles.itemCurrent}\n      >\n        <Text style={styles.textCurrent}>{item.label}</Text>\n      </View>\n    )\n  }\n\n  return (\n    <Pressable\n      role={Platform.OS === \"web\" ? \"link\" : undefined}\n      aria-label={Platform.OS === \"web\" ? item.label : undefined}\n      accessible={true}\n      accessibilityRole=\"link\"\n      accessibilityLabel={item.label}\n      onPress={handlePress}\n      style={({ pressed }) => [styles.item, pressed && styles.itemPressed]}\n    >\n      <Text style={styles.text}>{item.label}</Text>\n    </Pressable>\n  )\n}\n\nconst styles = StyleSheet.create((theme) => ({\n  container: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    flexWrap: \"wrap\",\n    gap: 8,\n  },\n  item: {\n    paddingVertical: 4,\n    paddingHorizontal: 2,\n  },\n  itemPressed: {\n    opacity: 0.7,\n  },\n  itemCurrent: {\n    paddingVertical: 4,\n    paddingHorizontal: 2,\n  },\n  text: {\n    fontSize: theme.typography.sizes.sm,\n    color: theme.colors.foreground,\n  },\n  textCurrent: {\n    fontSize: theme.typography.sizes.sm,\n    color: theme.colors.mutedForeground,\n  },\n  separator: {\n    paddingHorizontal: 4,\n  },\n  separatorText: {\n    fontSize: theme.typography.sizes.sm,\n    color: theme.colors.mutedForeground,\n  },\n}))\n",
      "type": "registry:ui"
    }
  ]
}
