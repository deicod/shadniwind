{
  "name": "tabs",
  "type": "registry:ui",
  "title": "Tabs",
  "description": "A set of sections of content—known as tab panels—that are displayed one at a time.",
  "registryDependencies": [
    "tokens",
    "roving-focus"
  ],
  "files": [
    {
      "path": "components/ui/tabs.tsx",
      "content": "import * as React from \"react\"\nimport { Platform, Pressable, type PressableProps, type StyleProp, Text, View, type ViewProps, type ViewStyle } from \"react-native\"\nimport { StyleSheet, useUnistyles } from \"react-native-unistyles\"\nimport * as RovingFocusGroup from \"../primitives/roving-focus/index.js\"\n\nconst TabsContext = React.createContext<{\n  value?: string\n  onValueChange?: (value: string) => void\n}>({})\n\nexport interface TabsProps extends ViewProps {\n  value?: string\n  defaultValue?: string\n  onValueChange?: (value: string) => void\n}\n\nexport const Tabs = React.forwardRef<View, TabsProps>(\n  ({ value: valueProp, defaultValue, onValueChange, children, ...props }, ref) => {\n    const [value, setValue] = React.useState(valueProp ?? defaultValue)\n    const isControlled = valueProp !== undefined\n    const currentValue = isControlled ? valueProp : value\n\n    const handleValueChange = React.useCallback(\n      (newValue: string) => {\n        if (!isControlled) {\n          setValue(newValue)\n        }\n        onValueChange?.(newValue)\n      },\n      [isControlled, onValueChange],\n    )\n\n    return (\n      <TabsContext.Provider value={{ value: currentValue, onValueChange: handleValueChange }}>\n        <View ref={ref} {...props}>\n          {children}\n        </View>\n      </TabsContext.Provider>\n    )\n  },\n)\n\nTabs.displayName = \"Tabs\"\n\nexport interface TabsListProps extends ViewProps {}\n\nexport const TabsList = React.forwardRef<View, TabsListProps>(\n  ({ style, ...props }, ref) => {\n    const context = React.useContext(TabsContext)\n\n    // On web, we want RovingFocusGroup for keyboard nav\n    if (Platform.OS === \"web\") {\n\n      return (\n        <RovingFocusGroup.RovingFocusGroup\n          orientation=\"horizontal\"\n          value={context.value}\n          onValueChange={context.onValueChange}\n          loop\n          asChild\n          {...props}\n        >\n          <View ref={ref} style={[styles.list, style]}>\n            {props.children}\n          </View>\n        </RovingFocusGroup.RovingFocusGroup>\n      )\n    }\n\n    return <View ref={ref} style={[styles.list, style]} {...props} />\n  },\n)\n\nTabsList.displayName = \"TabsList\"\n\nexport interface TabsTriggerProps extends PressableProps {\n  value: string\n  disabled?: boolean\n}\n\nexport const TabsTrigger = React.forwardRef<View, TabsTriggerProps>(\n  ({ value, disabled, style, children, ...props }, ref) => {\n    const context = React.useContext(TabsContext)\n    const isActive = context.value === value\n\n    const { theme: _theme } = useUnistyles()\n    const variantStyles = styles.useVariants({\n      active: isActive,\n      disabled: !!disabled,\n    })\n\n    const handlePress = () => {\n      if (!disabled) {\n        context.onValueChange?.(value)\n      }\n    }\n\n    const content = (\n      <Pressable\n        ref={ref}\n        role=\"tab\"\n        aria-selected={isActive}\n        aria-disabled={disabled}\n        disabled={disabled}\n        accessibilityRole=\"tab\"\n        accessibilityState={{ selected: isActive, disabled: !!disabled }}\n        onPress={(e) => {\n          handlePress()\n          props.onPress?.(e)\n        }}\n        style={({ pressed }) =>\n          [\n            styles.trigger,\n            variantStyles,\n            pressed && !isActive && !disabled && { opacity: 0.7 },\n            typeof style === \"function\" ? style({ pressed }) : style,\n            typeof style === \"function\" ? style({ pressed }) : style,\n          ] as unknown as StyleProp<ViewStyle>\n        }\n        {...props}\n      >\n        {typeof children === \"string\" ? (\n          <Text\n            style={[\n              styles.triggerText,\n              isActive && styles.triggerTextActive,\n            ]}\n          >\n            {children}\n          </Text>\n        ) : (\n          children\n        )}\n      </Pressable>\n    )\n\n    if (Platform.OS === \"web\") {\n      return (\n        <RovingFocusGroup.RovingFocusItem\n          value={value}\n          disabled={disabled}\n          asChild\n        >\n          {content}\n        </RovingFocusGroup.RovingFocusItem>\n      )\n    }\n\n    return content\n  },\n)\n\nTabsTrigger.displayName = \"TabsTrigger\"\n\nexport interface TabsContentProps extends ViewProps {\n  value: string\n}\n\nexport const TabsContent = React.forwardRef<View, TabsContentProps>(\n  ({ value, style, ...props }, ref) => {\n    const context = React.useContext(TabsContext)\n    const isActive = context.value === value\n\n    if (!isActive) return null\n\n    return (\n      <View ref={ref} role=\"tabpanel\" style={[styles.content, style]} {...props}>\n        {props.children}\n      </View>\n    )\n  },\n)\n\nTabsContent.displayName = \"TabsContent\"\n\nconst styles = StyleSheet.create((theme) => ({\n  list: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: theme.colors.muted,\n    padding: 4,\n    borderRadius: theme.radius.lg,\n    gap: 4,\n  },\n  trigger: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingVertical: 6,\n    paddingHorizontal: 12,\n    borderRadius: theme.radius.md,\n    backgroundColor: \"transparent\",\n    variants: {\n      active: {\n        true: {\n          backgroundColor: theme.colors.background,\n          shadowColor: theme.colors.foreground,\n          shadowOpacity: 0.1,\n          shadowRadius: 2,\n          elevation: 1,\n        },\n      },\n      disabled: {\n        true: {\n          opacity: 0.5,\n        },\n      },\n    },\n  },\n  triggerText: {\n    fontSize: theme.typography.sizes.sm,\n    fontWeight: \"500\",\n    color: theme.colors.mutedForeground,\n  },\n  triggerTextActive: {\n    color: theme.colors.foreground,\n  },\n  content: {\n    marginTop: 8,\n    // ring offset?\n  },\n}))\n",
      "type": "registry:ui"
    }
  ]
}
