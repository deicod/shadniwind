{
  "name": "overlay",
  "type": "registry:lib",
  "title": "Overlay",
  "description": "Dismiss layer and scrim/backdrop primitive for overlays.",
  "files": [
    {
      "path": "lib/overlay/index.tsx",
      "content": "import * as React from \"react\"\nimport {\n  Pressable,\n  StyleSheet,\n  View,\n  type PressableProps,\n  type StyleProp,\n  type ViewProps,\n  type ViewStyle,\n} from \"react-native\"\n\nexport type OverlayBackdropProps = Omit<PressableProps, \"style\"> & {\n  style?: StyleProp<ViewStyle>\n  visible?: boolean\n}\n\nexport type DismissLayerProps = ViewProps & {\n  children?: React.ReactNode\n  onDismiss?: () => void\n  dismissable?: boolean\n  scrim?: boolean\n  scrimStyle?: StyleProp<ViewStyle>\n  scrimProps?: Omit<OverlayBackdropProps, \"onPress\" | \"style\" | \"visible\">\n}\n\nexport type OverlayProps = DismissLayerProps\n\ntype OverlayBackdropRef = React.ElementRef<typeof Pressable>\n\nconst styles = StyleSheet.create({\n  container: {\n    ...StyleSheet.absoluteFillObject,\n  },\n  backdrop: {\n    ...StyleSheet.absoluteFillObject,\n    backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n  },\n  backdropHidden: {\n    backgroundColor: \"transparent\",\n  },\n})\n\nexport const OverlayBackdrop = React.forwardRef<OverlayBackdropRef, OverlayBackdropProps>(\n  (\n    {\n      visible = true,\n      style,\n      accessible = false,\n      accessibilityElementsHidden,\n      importantForAccessibility,\n      ...props\n    },\n    ref,\n  ) => {\n    const elementsHidden = accessibilityElementsHidden ?? !accessible\n    const importance = importantForAccessibility ?? (accessible ? undefined : \"no\")\n\n    return (\n      <Pressable\n        ref={ref}\n        accessible={accessible}\n        accessibilityElementsHidden={elementsHidden}\n        importantForAccessibility={importance}\n        style={[styles.backdrop, !visible && styles.backdropHidden, style]}\n        {...props}\n      />\n    )\n  },\n)\n\nOverlayBackdrop.displayName = \"OverlayBackdrop\"\n\nexport const DismissLayer = React.forwardRef<View, DismissLayerProps>(\n  (\n    {\n      children,\n      onDismiss,\n      dismissable,\n      scrim = false,\n      scrimStyle,\n      scrimProps,\n      style,\n      pointerEvents,\n      ...props\n    },\n    ref,\n  ) => {\n    const isDismissable = dismissable ?? Boolean(onDismiss)\n    const shouldCapture = scrim || isDismissable\n\n    const handlePress = React.useCallback(() => {\n      if (!isDismissable) {\n        return\n      }\n\n      onDismiss?.()\n    }, [isDismissable, onDismiss])\n\n    const { pointerEvents: scrimPointerEvents, ...scrimRest } = scrimProps ?? {}\n    const backdropPointerEvents = scrimPointerEvents ?? (shouldCapture ? \"auto\" : \"none\")\n\n    return (\n      <View\n        ref={ref}\n        pointerEvents={pointerEvents ?? \"box-none\"}\n        style={[styles.container, style]}\n        {...props}\n      >\n        <OverlayBackdrop\n          visible={scrim}\n          onPress={isDismissable ? handlePress : undefined}\n          pointerEvents={backdropPointerEvents}\n          style={scrimStyle}\n          {...scrimRest}\n        />\n        {children}\n      </View>\n    )\n  },\n)\n\nDismissLayer.displayName = \"DismissLayer\"\n\nexport const Overlay = React.forwardRef<View, OverlayProps>(({ scrim = true, ...props }, ref) => {\n  return <DismissLayer ref={ref} scrim={scrim} {...props} />\n})\n\nOverlay.displayName = \"Overlay\"\n",
      "type": "registry:lib"
    }
  ]
}
