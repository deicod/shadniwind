{
  "name": "checkbox",
  "type": "registry:ui",
  "title": "Checkbox",
  "description": "A checkbox input with support for controlled/uncontrolled state, indeterminate state, and web accessibility.",
  "dependencies": [
    "lucide-react-native"
  ],
  "registryDependencies": [
    "@shadniwind/tokens"
  ],
  "files": [
    {
      "path": "components/ui/checkbox.tsx",
      "content": "// @ts-expect-error - lucide-react-native is a peer dependency\nimport { Check, Minus } from \"lucide-react-native\"\nimport * as React from \"react\"\nimport { Platform, Pressable, type PressableProps } from \"react-native\"\nimport { StyleSheet, useUnistyles } from \"react-native-unistyles\"\n\nexport type CheckedState = boolean | \"indeterminate\"\n\nexport type CheckboxProps = Omit<PressableProps, \"onPress\"> & {\n  checked?: CheckedState\n  defaultChecked?: CheckedState\n  onCheckedChange?: (checked: CheckedState) => void\n  disabled?: boolean\n}\n\nexport const Checkbox = React.forwardRef<\n  React.ComponentRef<typeof Pressable>,\n  CheckboxProps\n>(\n  (\n    {\n      checked: checkedProp,\n      defaultChecked = false,\n      onCheckedChange,\n      disabled = false,\n      style,\n      ...props\n    },\n    ref,\n  ) => {\n    const [uncontrolledChecked, setUncontrolledChecked] =\n      React.useState<CheckedState>(defaultChecked)\n\n    const isControlled = checkedProp !== undefined\n    const checked = isControlled ? checkedProp : uncontrolledChecked\n\n    const handlePress = React.useCallback(() => {\n      if (disabled) return\n\n      const nextChecked = checked === \"indeterminate\" ? true : !checked\n\n      if (!isControlled) {\n        setUncontrolledChecked(nextChecked)\n      }\n\n      onCheckedChange?.(nextChecked)\n    }, [checked, disabled, isControlled, onCheckedChange])\n\n    const handleKeyDown = React.useCallback(\n      // biome-ignore lint/suspicious/noExplicitAny: Web-only keyboard event type\n      (event: any) => {\n        if (Platform.OS === \"web\" && event.key === \" \") {\n          event.preventDefault()\n          handlePress()\n        }\n      },\n      [handlePress],\n    )\n\n    const variantStyles = styles.useVariants({\n      checked: checked === true || checked === \"indeterminate\",\n      disabled,\n    })\n\n    const { theme } = useUnistyles()\n\n    return (\n      <Pressable\n        ref={ref}\n        role={Platform.OS === \"web\" ? \"checkbox\" : undefined}\n        aria-checked={\n          Platform.OS === \"web\"\n            ? checked === \"indeterminate\"\n              ? \"mixed\"\n              : checked\n            : undefined\n        }\n        aria-disabled={Platform.OS === \"web\" ? disabled : undefined}\n        accessible={true}\n        accessibilityRole=\"checkbox\"\n        accessibilityState={{\n          checked: checked === \"indeterminate\" ? \"mixed\" : checked === true,\n          disabled,\n        }}\n        onPress={handlePress}\n        // @ts-expect-error - onKeyDown is web-only\n        onKeyDown={Platform.OS === \"web\" ? handleKeyDown : undefined}\n        disabled={disabled}\n        style={({ pressed }) =>\n          [\n            styles.checkbox,\n            variantStyles,\n            pressed && !disabled && styles.checkboxPressed,\n            typeof style === \"function\" ? style({ pressed }) : style,\n            // biome-ignore lint/suspicious/noExplicitAny: Complex style array with variants requires type assertion\n          ] as any\n        }\n        {...props}\n      >\n        {checked === true && (\n          <Check size={16} color={theme.colors.primaryForeground} />\n        )}\n        {checked === \"indeterminate\" && (\n          <Minus size={16} color={theme.colors.primaryForeground} />\n        )}\n      </Pressable>\n    )\n  },\n)\n\nCheckbox.displayName = \"Checkbox\"\n\nconst styles = StyleSheet.create((theme) => ({\n  checkbox: {\n    width: 20,\n    height: 20,\n    borderRadius: theme.radius.sm,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    backgroundColor: theme.colors.background,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    variants: {\n      checked: {\n        true: {\n          backgroundColor: theme.colors.primary,\n          borderColor: theme.colors.primary,\n        },\n      },\n      disabled: {\n        true: {\n          opacity: 0.5,\n        },\n      },\n    },\n  },\n  checkboxPressed: {\n    opacity: 0.8,\n  },\n}))\n",
      "type": "registry:ui"
    }
  ]
}
