{
  "name": "radio-group",
  "type": "registry:ui",
  "title": "Radio Group",
  "description": "A set of checkable buttons—known as radio buttons—where no more than one of the buttons can be checked at a time.",
  "dependencies": [
    "lucide-react-native"
  ],
  "registryDependencies": [
    "@shadniwind/tokens",
    "@shadniwind/roving-focus"
  ],
  "files": [
    {
      "path": "components/ui/radio-group.tsx",
      "content": "import * as React from \"react\"\nimport { Pressable, type PressableProps, type StyleProp, View, type ViewProps, type ViewStyle } from \"react-native\"\nimport { StyleSheet, useUnistyles } from \"react-native-unistyles\"\n// @ts-expect-error - lucide-react-native is a peer dependency\nimport { Circle } from \"lucide-react-native\"\nimport * as RovingFocusGroup from \"../primitives/roving-focus/index\"\n\nconst RadioGroupContext = React.createContext<{\n  value?: string\n  onValueChange?: (value: string) => void\n  disabled?: boolean\n}>({})\n\nexport interface RadioGroupProps extends ViewProps {\n  value?: string\n  defaultValue?: string\n  onValueChange?: (value: string) => void\n  disabled?: boolean\n}\n\nexport const RadioGroup = React.forwardRef<View, RadioGroupProps>(\n  (\n    {\n      value: valueProp,\n      defaultValue,\n      onValueChange,\n      disabled = false,\n      style,\n      ...props\n    },\n    ref,\n  ) => {\n    const [value, setValue] = React.useState<string | undefined>(\n      valueProp ?? defaultValue,\n    )\n\n    const isControlled = valueProp !== undefined\n    const currentValue = isControlled ? valueProp : value\n\n    const handleValueChange = React.useCallback(\n      (newValue: string) => {\n        if (!isControlled) {\n          setValue(newValue)\n        }\n        onValueChange?.(newValue)\n      },\n      [isControlled, onValueChange],\n    )\n\n    return (\n      <RadioGroupContext.Provider\n        value={{\n          value: currentValue,\n          onValueChange: handleValueChange,\n          disabled,\n        }}\n      >\n        <RovingFocusGroup.RovingFocusGroup\n          orientation=\"vertical\"\n          value={currentValue}\n          onValueChange={handleValueChange}\n          {...props}\n          ref={ref}\n          style={[styles.group, style]}\n        >\n          {props.children}\n        </RovingFocusGroup.RovingFocusGroup>\n      </RadioGroupContext.Provider>\n    )\n  },\n)\n\nRadioGroup.displayName = \"RadioGroup\"\n\nexport interface RadioGroupItemProps extends Omit<PressableProps, \"onPress\"> {\n  value: string\n  disabled?: boolean\n}\n\nexport const RadioGroupItem = React.forwardRef<View, RadioGroupItemProps>(\n  ({ value, disabled, style, ...props }, ref) => {\n    const context = React.useContext(RadioGroupContext)\n    const checked = context.value === value\n    const isDisabled = disabled || context.disabled\n\n    const { theme } = useUnistyles()\n    const variantStyles = styles.useVariants({\n      checked,\n      disabled: isDisabled,\n    })\n\n    return (\n      <RovingFocusGroup.RovingFocusItem value={value} disabled={isDisabled} asChild>\n        <Pressable\n          ref={ref}\n          role=\"radio\"\n          aria-checked={checked}\n          aria-disabled={isDisabled}\n          disabled={isDisabled}\n          onPress={() => {\n            if (!isDisabled) {\n              context.onValueChange?.(value)\n            }\n          }}\n          accessibilityRole=\"radio\"\n          accessibilityState={{\n            checked,\n            disabled: isDisabled,\n          }}\n          style={({ pressed }) =>\n            [\n              styles.item,\n              variantStyles,\n              pressed && !isDisabled && styles.itemPressed,\n              typeof style === \"function\" ? style({ pressed }) : style,\n            ] as unknown as StyleProp<ViewStyle>\n          }\n          {...props}\n        >\n          {checked && (\n            <View style={styles.indicator}>\n              <Circle\n                fill={theme.colors.primary}\n                color={theme.colors.primary}\n                size={7}\n              />\n            </View>\n          )}\n        </Pressable>\n      </RovingFocusGroup.RovingFocusItem>\n    )\n  },\n)\n\nRadioGroupItem.displayName = \"RadioGroupItem\"\n\nconst styles = StyleSheet.create((theme) => ({\n  group: {\n    gap: 8, // Default gap\n  },\n  item: {\n    height: 16,\n    width: 16,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    backgroundColor: theme.colors.background,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    variants: {\n      checked: {\n        true: {\n          // Keep primary border\n        },\n        false: {\n          // Ensure it's not filled?\n          // shadcn: border-primary text-primary\n        },\n      },\n      disabled: {\n        true: {\n          opacity: 0.5,\n        },\n      },\n    },\n  },\n  itemPressed: {\n    opacity: 0.8,\n  },\n  indicator: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}))\n",
      "type": "registry:ui"
    }
  ]
}
